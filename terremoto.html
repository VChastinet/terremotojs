<!DOCTYPE html>
<html>
<body>

<h2>Earthquakes greater than 6.0.</h2>
<div id="summary"> </div>
<div id="tablePrint"> </div>

<script>

var xmlhttp = new XMLHttpRequest();

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = JSON.parse(this.responseText);
        
        var totalEarthquakes = parseInt(myObj.metadata.count);

        //Prints total number of Earthquakes read from USGS.gov site.
        document.getElementById("summary").innerHTML = "Total number of Earthquakes: " + myObj.metadata.count;
        
        //assembles table containing data pertaining to each earhquake
        var myTable="<table>";


        for( var i = 0; i < totalEarthquakes; i++ ){
            myTable = myTable + "<tr><td>" + myObj.features[i].properties.place + " - Mag = " + myObj.features[i].properties.mag + "</td></tr>";
        }
        
        myTable = myTable + "</table>";

        //displays the assembled table
        document.getElementById('tablePrint').innerHTML = myTable;
    }
};

xmlhttp.open("GET", "https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.geojson", true);
xmlhttp.send();

</script>



</body>
</html>
